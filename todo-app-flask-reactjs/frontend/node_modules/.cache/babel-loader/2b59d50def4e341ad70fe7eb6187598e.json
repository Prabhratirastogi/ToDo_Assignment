{"ast":null,"code":"var _jsxFileName = \"/home/prabhrati/Desktop/my_project/todo-app-flask-reactjs/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { getTasks, addTask, updateTask, deleteTask } from './api';\nimport TodoInput from './components/TodoInput';\nimport TodoList from './components/TodoList';\nimport TodoTabs from './components/TodoTabs';\nimport Modal from './components/Modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [isCompleteScreen, setIsCompleteScreen] = useState(false);\n  const [allTodos, setTodos] = useState([]);\n  const [completedTodos, setCompletedTodos] = useState([]);\n  const [currentEdit, setCurrentEdit] = useState(\"\");\n  const [currentEditedItem, setCurrentEditedItem] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [modalMessage, setModalMessage] = useState(\"\");\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n\n  const fetchTasks = async () => {\n    try {\n      const response = await getTasks();\n      const todos = response.data.filter(todo => todo.status !== 'Completed');\n      const completed = response.data.filter(todo => todo.status === 'Completed');\n      setTodos(todos);\n      setCompletedTodos(completed);\n    } catch (error) {\n      console.error('Error fetching tasks:', error);\n    }\n  };\n\n  const handleAddTodo = async (newTitle, newDescription) => {\n    if (!newTitle.trim()) {\n      // Ensure title is not empty\n      alert('Task title is required'); // Alert message if title is empty\n\n      return;\n    }\n\n    let newTodoItem = {\n      title: newTitle,\n      description: newDescription,\n      status: 'Not Completed'\n    };\n\n    try {\n      await addTask(newTodoItem);\n      fetchTasks();\n    } catch (error) {\n      console.error('Error adding task:', error);\n    }\n  };\n\n  const handleDeleteTodo = async id => {\n    try {\n      await deleteTask(id);\n      fetchTasks();\n    } catch (error) {\n      console.error('Error deleting task:', error);\n    }\n  };\n\n  const handleComplete = async id => {\n    const completedTask = { ...allTodos.find(todo => todo.id === id),\n      status: 'Completed'\n    };\n\n    try {\n      await updateTask(id, completedTask);\n      fetchTasks();\n    } catch (error) {\n      console.error('Error completing task:', error);\n    }\n  };\n\n  const handleEdit = (ind, item) => {\n    setCurrentEdit(ind);\n    setCurrentEditedItem(item);\n  };\n\n  const handleUpdateTitle = value => {\n    setCurrentEditedItem(prev => {\n      return { ...prev,\n        title: value\n      };\n    });\n  };\n\n  const handleUpdateDescription = value => {\n    setCurrentEditedItem(prev => {\n      return { ...prev,\n        description: value\n      };\n    });\n  };\n\n  const handleUpdateToDo = async () => {\n    try {\n      await updateTask(currentEdit, currentEditedItem);\n      setCurrentEdit(\"\");\n      fetchTasks();\n    } catch (error) {\n      console.error('Error updating task:', error);\n    }\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    setModalMessage(\"\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"My Todos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TodoInput, {\n      onAdd: handleAddTodo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TodoTabs, {\n      isCompleteScreen: isCompleteScreen,\n      setIsCompleteScreen: setIsCompleteScreen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TodoList, {\n      todos: isCompleteScreen ? completedTodos : allTodos,\n      isCompleteScreen: isCompleteScreen,\n      onDelete: handleDeleteTodo,\n      onComplete: handleComplete,\n      onEdit: handleEdit,\n      onUpdateTitle: handleUpdateTitle,\n      onUpdateDescription: handleUpdateDescription,\n      currentEdit: currentEdit,\n      currentEditedItem: currentEditedItem,\n      onUpdate: handleUpdateToDo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      message: modalMessage,\n      onClose: closeModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"jfTYuXdCDbycM/pzbONozqIGmJs=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","getTasks","addTask","updateTask","deleteTask","TodoInput","TodoList","TodoTabs","Modal","App","isCompleteScreen","setIsCompleteScreen","allTodos","setTodos","completedTodos","setCompletedTodos","currentEdit","setCurrentEdit","currentEditedItem","setCurrentEditedItem","showModal","setShowModal","modalMessage","setModalMessage","fetchTasks","response","todos","data","filter","todo","status","completed","error","console","handleAddTodo","newTitle","newDescription","trim","alert","newTodoItem","title","description","handleDeleteTodo","id","handleComplete","completedTask","find","handleEdit","ind","item","handleUpdateTitle","value","prev","handleUpdateDescription","handleUpdateToDo","closeModal"],"sources":["/home/prabhrati/Desktop/my_project/todo-app-flask-reactjs/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { getTasks, addTask, updateTask, deleteTask } from './api';\nimport TodoInput from './components/TodoInput';\nimport TodoList from './components/TodoList';\nimport TodoTabs from './components/TodoTabs';\nimport Modal from './components/Modal';\n\n\nfunction App() {\n  const [isCompleteScreen, setIsCompleteScreen] = useState(false);\n  const [allTodos, setTodos] = useState([]);\n  const [completedTodos, setCompletedTodos] = useState([]);\n  const [currentEdit, setCurrentEdit] = useState(\"\");\n  const [currentEditedItem, setCurrentEditedItem] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [modalMessage, setModalMessage] = useState(\"\");\n\n\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n\n  const fetchTasks = async () => {\n    try {\n      const response = await getTasks();\n      const todos = response.data.filter(todo => todo.status !== 'Completed');\n      const completed = response.data.filter(todo => todo.status === 'Completed');\n      setTodos(todos);\n      setCompletedTodos(completed);\n    } catch (error) {\n      console.error('Error fetching tasks:', error);\n    }\n  };\n\n  const handleAddTodo = async (newTitle, newDescription) => {\n    if (!newTitle.trim()) { // Ensure title is not empty\n      alert('Task title is required'); // Alert message if title is empty\n      return;\n    }\n\n    let newTodoItem = {\n      title: newTitle,\n      description: newDescription,\n      status: 'Not Completed'\n    };\n\n\n    try {\n      await addTask(newTodoItem);\n      fetchTasks();\n    } catch (error) {\n      console.error('Error adding task:', error);\n    }\n  };\n\n  const handleDeleteTodo = async (id) => {\n    try {\n      await deleteTask(id);\n      fetchTasks();\n    } catch (error) {\n      console.error('Error deleting task:', error);\n    }\n  };\n\n  const handleComplete = async (id) => {\n    const completedTask = {\n      ...allTodos.find(todo => todo.id === id),\n      status: 'Completed'\n    };\n    try {\n      await updateTask(id, completedTask);\n      fetchTasks();\n    } catch (error) {\n      console.error('Error completing task:', error);\n    }\n  };\n\n  const handleEdit = (ind, item) => {\n    setCurrentEdit(ind);\n    setCurrentEditedItem(item);\n  };\n\n  const handleUpdateTitle = (value) => {\n    setCurrentEditedItem((prev) => {\n      return { ...prev, title: value };\n    });\n  };\n\n  const handleUpdateDescription = (value) => {\n    setCurrentEditedItem((prev) => {\n      return { ...prev, description: value };\n    });\n  };\n\n  const handleUpdateToDo = async () => {\n    try {\n      await updateTask(currentEdit, currentEditedItem);\n      setCurrentEdit(\"\");\n      fetchTasks();\n    } catch (error) {\n      console.error('Error updating task:', error);\n    }\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    setModalMessage(\"\");\n  };\n\n\n  return (\n    <div className=\"App\">\n      <h1>My Todos</h1>\n      <TodoInput onAdd={handleAddTodo} />\n      <TodoTabs\n        isCompleteScreen={isCompleteScreen}\n        setIsCompleteScreen={setIsCompleteScreen}\n      />\n      <TodoList\n        todos={isCompleteScreen ? completedTodos : allTodos}\n        isCompleteScreen={isCompleteScreen}\n        onDelete={handleDeleteTodo}\n        onComplete={handleComplete}\n        onEdit={handleEdit}\n        onUpdateTitle={handleUpdateTitle}\n        onUpdateDescription={handleUpdateDescription}\n        currentEdit={currentEdit}\n        currentEditedItem={currentEditedItem}\n        onUpdate={handleUpdateToDo}\n      />\n            <Modal show={showModal} message={modalMessage} onClose={closeModal} />\n\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,WAAP;AACA,SAASC,QAAT,EAAmBC,OAAnB,EAA4BC,UAA5B,EAAwCC,UAAxC,QAA0D,OAA1D;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;;;AAGA,SAASC,GAAT,GAAe;EAAA;;EACb,MAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0CZ,QAAQ,CAAC,KAAD,CAAxD;EACA,MAAM,CAACa,QAAD,EAAWC,QAAX,IAAuBd,QAAQ,CAAC,EAAD,CAArC;EACA,MAAM,CAACe,cAAD,EAAiBC,iBAAjB,IAAsChB,QAAQ,CAAC,EAAD,CAApD;EACA,MAAM,CAACiB,WAAD,EAAcC,cAAd,IAAgClB,QAAQ,CAAC,EAAD,CAA9C;EACA,MAAM,CAACmB,iBAAD,EAAoBC,oBAApB,IAA4CpB,QAAQ,CAAC,EAAD,CAA1D;EACA,MAAM,CAACqB,SAAD,EAAYC,YAAZ,IAA4BtB,QAAQ,CAAC,KAAD,CAA1C;EACA,MAAM,CAACuB,YAAD,EAAeC,eAAf,IAAkCxB,QAAQ,CAAC,EAAD,CAAhD;EAGAC,SAAS,CAAC,MAAM;IACdwB,UAAU;EACX,CAFQ,EAEN,EAFM,CAAT;;EAIA,MAAMA,UAAU,GAAG,YAAY;IAC7B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMxB,QAAQ,EAA/B;MACA,MAAMyB,KAAK,GAAGD,QAAQ,CAACE,IAAT,CAAcC,MAAd,CAAqBC,IAAI,IAAIA,IAAI,CAACC,MAAL,KAAgB,WAA7C,CAAd;MACA,MAAMC,SAAS,GAAGN,QAAQ,CAACE,IAAT,CAAcC,MAAd,CAAqBC,IAAI,IAAIA,IAAI,CAACC,MAAL,KAAgB,WAA7C,CAAlB;MACAjB,QAAQ,CAACa,KAAD,CAAR;MACAX,iBAAiB,CAACgB,SAAD,CAAjB;IACD,CAND,CAME,OAAOC,KAAP,EAAc;MACdC,OAAO,CAACD,KAAR,CAAc,uBAAd,EAAuCA,KAAvC;IACD;EACF,CAVD;;EAYA,MAAME,aAAa,GAAG,OAAOC,QAAP,EAAiBC,cAAjB,KAAoC;IACxD,IAAI,CAACD,QAAQ,CAACE,IAAT,EAAL,EAAsB;MAAE;MACtBC,KAAK,CAAC,wBAAD,CAAL,CADoB,CACa;;MACjC;IACD;;IAED,IAAIC,WAAW,GAAG;MAChBC,KAAK,EAAEL,QADS;MAEhBM,WAAW,EAAEL,cAFG;MAGhBN,MAAM,EAAE;IAHQ,CAAlB;;IAOA,IAAI;MACF,MAAM5B,OAAO,CAACqC,WAAD,CAAb;MACAf,UAAU;IACX,CAHD,CAGE,OAAOQ,KAAP,EAAc;MACdC,OAAO,CAACD,KAAR,CAAc,oBAAd,EAAoCA,KAApC;IACD;EACF,CAnBD;;EAqBA,MAAMU,gBAAgB,GAAG,MAAOC,EAAP,IAAc;IACrC,IAAI;MACF,MAAMvC,UAAU,CAACuC,EAAD,CAAhB;MACAnB,UAAU;IACX,CAHD,CAGE,OAAOQ,KAAP,EAAc;MACdC,OAAO,CAACD,KAAR,CAAc,sBAAd,EAAsCA,KAAtC;IACD;EACF,CAPD;;EASA,MAAMY,cAAc,GAAG,MAAOD,EAAP,IAAc;IACnC,MAAME,aAAa,GAAG,EACpB,GAAGjC,QAAQ,CAACkC,IAAT,CAAcjB,IAAI,IAAIA,IAAI,CAACc,EAAL,KAAYA,EAAlC,CADiB;MAEpBb,MAAM,EAAE;IAFY,CAAtB;;IAIA,IAAI;MACF,MAAM3B,UAAU,CAACwC,EAAD,EAAKE,aAAL,CAAhB;MACArB,UAAU;IACX,CAHD,CAGE,OAAOQ,KAAP,EAAc;MACdC,OAAO,CAACD,KAAR,CAAc,wBAAd,EAAwCA,KAAxC;IACD;EACF,CAXD;;EAaA,MAAMe,UAAU,GAAG,CAACC,GAAD,EAAMC,IAAN,KAAe;IAChChC,cAAc,CAAC+B,GAAD,CAAd;IACA7B,oBAAoB,CAAC8B,IAAD,CAApB;EACD,CAHD;;EAKA,MAAMC,iBAAiB,GAAIC,KAAD,IAAW;IACnChC,oBAAoB,CAAEiC,IAAD,IAAU;MAC7B,OAAO,EAAE,GAAGA,IAAL;QAAWZ,KAAK,EAAEW;MAAlB,CAAP;IACD,CAFmB,CAApB;EAGD,CAJD;;EAMA,MAAME,uBAAuB,GAAIF,KAAD,IAAW;IACzChC,oBAAoB,CAAEiC,IAAD,IAAU;MAC7B,OAAO,EAAE,GAAGA,IAAL;QAAWX,WAAW,EAAEU;MAAxB,CAAP;IACD,CAFmB,CAApB;EAGD,CAJD;;EAMA,MAAMG,gBAAgB,GAAG,YAAY;IACnC,IAAI;MACF,MAAMnD,UAAU,CAACa,WAAD,EAAcE,iBAAd,CAAhB;MACAD,cAAc,CAAC,EAAD,CAAd;MACAO,UAAU;IACX,CAJD,CAIE,OAAOQ,KAAP,EAAc;MACdC,OAAO,CAACD,KAAR,CAAc,sBAAd,EAAsCA,KAAtC;IACD;EACF,CARD;;EAUA,MAAMuB,UAAU,GAAG,MAAM;IACvBlC,YAAY,CAAC,KAAD,CAAZ;IACAE,eAAe,CAAC,EAAD,CAAf;EACD,CAHD;;EAMA,oBACE;IAAK,SAAS,EAAC,KAAf;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE,QAAC,SAAD;MAAW,KAAK,EAAEW;IAAlB;MAAA;MAAA;MAAA;IAAA,QAFF,eAGE,QAAC,QAAD;MACE,gBAAgB,EAAExB,gBADpB;MAEE,mBAAmB,EAAEC;IAFvB;MAAA;MAAA;MAAA;IAAA,QAHF,eAOE,QAAC,QAAD;MACE,KAAK,EAAED,gBAAgB,GAAGI,cAAH,GAAoBF,QAD7C;MAEE,gBAAgB,EAAEF,gBAFpB;MAGE,QAAQ,EAAEgC,gBAHZ;MAIE,UAAU,EAAEE,cAJd;MAKE,MAAM,EAAEG,UALV;MAME,aAAa,EAAEG,iBANjB;MAOE,mBAAmB,EAAEG,uBAPvB;MAQE,WAAW,EAAErC,WARf;MASE,iBAAiB,EAAEE,iBATrB;MAUE,QAAQ,EAAEoC;IAVZ;MAAA;MAAA;MAAA;IAAA,QAPF,eAmBQ,QAAC,KAAD;MAAO,IAAI,EAAElC,SAAb;MAAwB,OAAO,EAAEE,YAAjC;MAA+C,OAAO,EAAEiC;IAAxD;MAAA;MAAA;MAAA;IAAA,QAnBR;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAwBD;;GA9HQ9C,G;;KAAAA,G;AAgIT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}