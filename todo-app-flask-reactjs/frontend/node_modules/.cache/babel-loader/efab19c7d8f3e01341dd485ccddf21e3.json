{"ast":null,"code":"var _jsxFileName = \"/home/prabhrati/Desktop/my_project/todo-app-flask-reactjs/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { getTasks, addTask, updateTask, deleteTask } from './api';\nimport TodoInput from './components/TodoInput';\nimport TodoList from './components/TodoList';\nimport TodoTabs from './components/TodoTabs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  // State variables for managing todos and edit mode\n  const [isCompleteScreen, setIsCompleteScreen] = useState(false);\n  const [allTodos, setTodos] = useState([]);\n  const [completedTodos, setCompletedTodos] = useState([]);\n  const [currentEdit, setCurrentEdit] = useState(\"\");\n  const [currentEditedItem, setCurrentEditedItem] = useState(\"\"); // Fetch todos when component mounts\n\n  useEffect(() => {\n    fetchTasks();\n  }, []); // Fetch tasks from the server\n\n  const fetchTasks = async () => {\n    try {\n      const response = await getTasks(); // Separate completed and incomplete todos\n\n      const todos = response.data.filter(todo => todo.status !== 'Completed');\n      const completed = response.data.filter(todo => todo.status === 'Completed');\n      setTodos(todos);\n      setCompletedTodos(completed);\n    } catch (error) {\n      console.error('Error fetching tasks:', error);\n    }\n  }; // Add a new todo\n\n\n  const handleAddTodo = async (newTitle, newDescription) => {\n    if (!newTitle.trim()) {\n      alert('Task title is required');\n      return;\n    }\n\n    let newTodoItem = {\n      title: newTitle,\n      description: newDescription,\n      status: 'Not Completed'\n    };\n\n    try {\n      await addTask(newTodoItem);\n      fetchTasks();\n    } catch (error) {\n      console.error('Error adding task:', error);\n    }\n  }; // Delete a todo\n\n\n  const handleDeleteTodo = async id => {\n    try {\n      await deleteTask(id);\n      fetchTasks();\n    } catch (error) {\n      console.error('Error deleting task:', error);\n    }\n  }; // Mark a todo as completed\n\n\n  const handleComplete = async id => {\n    const completedTask = { ...allTodos.find(todo => todo.id === id),\n      status: 'Completed'\n    };\n\n    try {\n      await updateTask(id, completedTask);\n      fetchTasks();\n    } catch (error) {\n      console.error('Error completing task:', error);\n    }\n  }; // Edit a todo\n\n\n  const handleEdit = (ind, item) => {\n    setCurrentEdit(ind);\n    setCurrentEditedItem(item);\n  }; // Update the title of the todo being edited\n\n\n  const handleUpdateTitle = value => {\n    setCurrentEditedItem(prev => {\n      return { ...prev,\n        title: value\n      };\n    });\n  }; // Update the description of the todo being edited\n\n\n  const handleUpdateDescription = value => {\n    setCurrentEditedItem(prev => {\n      return { ...prev,\n        description: value\n      };\n    });\n  }; // Update the edited todo\n\n\n  const handleUpdateToDo = async () => {\n    try {\n      await updateTask(currentEdit, currentEditedItem);\n      setCurrentEdit(\"\");\n      fetchTasks();\n    } catch (error) {\n      console.error('Error updating task:', error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"My Todos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TodoInput, {\n      onAdd: handleAddTodo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TodoTabs, {\n      isCompleteScreen: isCompleteScreen,\n      setIsCompleteScreen: setIsCompleteScreen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TodoList, {\n      todos: isCompleteScreen ? completedTodos : allTodos,\n      isCompleteScreen: isCompleteScreen,\n      onDelete: handleDeleteTodo,\n      onComplete: handleComplete,\n      onEdit: handleEdit,\n      onUpdateTitle: handleUpdateTitle,\n      onUpdateDescription: handleUpdateDescription,\n      currentEdit: currentEdit,\n      currentEditedItem: currentEditedItem,\n      onUpdate: handleUpdateToDo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"YNHyPxovNHBZCIWaAPojeDbWu94=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","getTasks","addTask","updateTask","deleteTask","TodoInput","TodoList","TodoTabs","App","isCompleteScreen","setIsCompleteScreen","allTodos","setTodos","completedTodos","setCompletedTodos","currentEdit","setCurrentEdit","currentEditedItem","setCurrentEditedItem","fetchTasks","response","todos","data","filter","todo","status","completed","error","console","handleAddTodo","newTitle","newDescription","trim","alert","newTodoItem","title","description","handleDeleteTodo","id","handleComplete","completedTask","find","handleEdit","ind","item","handleUpdateTitle","value","prev","handleUpdateDescription","handleUpdateToDo"],"sources":["/home/prabhrati/Desktop/my_project/todo-app-flask-reactjs/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { getTasks, addTask, updateTask, deleteTask } from './api';\nimport TodoInput from './components/TodoInput';\nimport TodoList from './components/TodoList';\nimport TodoTabs from './components/TodoTabs';\n\nfunction App() {\n  // State variables for managing todos and edit mode\n  const [isCompleteScreen, setIsCompleteScreen] = useState(false);\n  const [allTodos, setTodos] = useState([]);\n  const [completedTodos, setCompletedTodos] = useState([]);\n  const [currentEdit, setCurrentEdit] = useState(\"\");\n  const [currentEditedItem, setCurrentEditedItem] = useState(\"\");\n\n  // Fetch todos when component mounts\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n\n  // Fetch tasks from the server\n  const fetchTasks = async () => {\n    try {\n      const response = await getTasks();\n      // Separate completed and incomplete todos\n      const todos = response.data.filter(todo => todo.status !== 'Completed');\n      const completed = response.data.filter(todo => todo.status === 'Completed');\n      setTodos(todos);\n      setCompletedTodos(completed);\n    } catch (error) {\n      console.error('Error fetching tasks:', error);\n    }\n  };\n\n  // Add a new todo\n  const handleAddTodo = async (newTitle, newDescription) => {\n    if (!newTitle.trim()) {\n      alert('Task title is required');\n      return;\n    }\n\n    let newTodoItem = {\n      title: newTitle,\n      description: newDescription,\n      status: 'Not Completed'\n    };\n\n    try {\n      await addTask(newTodoItem);\n      fetchTasks();\n    } catch (error) {\n      console.error('Error adding task:', error);\n    }\n  };\n\n  // Delete a todo\n  const handleDeleteTodo = async (id) => {\n    try {\n      await deleteTask(id);\n      fetchTasks();\n    } catch (error) {\n      console.error('Error deleting task:', error);\n    }\n  };\n\n  // Mark a todo as completed\n  const handleComplete = async (id) => {\n    const completedTask = {\n      ...allTodos.find(todo => todo.id === id),\n      status: 'Completed'\n    };\n    try {\n      await updateTask(id, completedTask);\n      fetchTasks();\n    } catch (error) {\n      console.error('Error completing task:', error);\n    }\n  };\n\n  // Edit a todo\n  const handleEdit = (ind, item) => {\n    setCurrentEdit(ind);\n    setCurrentEditedItem(item);\n  };\n\n  // Update the title of the todo being edited\n  const handleUpdateTitle = (value) => {\n    setCurrentEditedItem((prev) => {\n      return { ...prev, title: value };\n    });\n  };\n\n  // Update the description of the todo being edited\n  const handleUpdateDescription = (value) => {\n    setCurrentEditedItem((prev) => {\n      return { ...prev, description: value };\n    });\n  };\n\n  // Update the edited todo\n  const handleUpdateToDo = async () => {\n    try {\n      await updateTask(currentEdit, currentEditedItem);\n      setCurrentEdit(\"\");\n      fetchTasks();\n    } catch (error) {\n      console.error('Error updating task:', error);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>My Todos</h1>\n      {/* Todo input component */}\n      <TodoInput onAdd={handleAddTodo} />\n      {/* Todo tabs component */}\n      <TodoTabs\n        isCompleteScreen={isCompleteScreen}\n        setIsCompleteScreen={setIsCompleteScreen}\n      />\n      {/* Todo list component */}\n      <TodoList\n        todos={isCompleteScreen ? completedTodos : allTodos}\n        isCompleteScreen={isCompleteScreen}\n        onDelete={handleDeleteTodo}\n        onComplete={handleComplete}\n        onEdit={handleEdit}\n        onUpdateTitle={handleUpdateTitle}\n        onUpdateDescription={handleUpdateDescription}\n        currentEdit={currentEdit}\n        currentEditedItem={currentEditedItem}\n        onUpdate={handleUpdateToDo}\n      />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}